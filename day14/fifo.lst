     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 [FILE "fifo.c"]
     7                                          [SECTION .text]
     8 00000000                                 	GLOBAL	_fifo8_init
     9 00000000                                 _fifo8_init:
    10 00000000 55                              	PUSH	EBP
    11 00000001 89 E5                           	MOV	EBP,ESP
    12 00000003 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    13 00000006 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
    14 00000009 89 50 0C                        	MOV	DWORD [12+EAX],EDX
    15 0000000C 89 50 10                        	MOV	DWORD [16+EAX],EDX
    16 0000000F 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
    17 00000012 89 10                           	MOV	DWORD [EAX],EDX
    18 00000014 C7 40 14 00000000               	MOV	DWORD [20+EAX],0
    19 0000001B C7 40 04 00000000               	MOV	DWORD [4+EAX],0
    20 00000022 C7 40 08 00000000               	MOV	DWORD [8+EAX],0
    21 00000029 5D                              	POP	EBP
    22 0000002A C3                              	RET
    23 0000002B                                 	GLOBAL	_fifo8_put
    24 0000002B                                 _fifo8_put:
    25 0000002B 55                              	PUSH	EBP
    26 0000002C 89 E5                           	MOV	EBP,ESP
    27 0000002E 53                              	PUSH	EBX
    28 0000002F 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
    29 00000032 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
    30 00000035 83 79 10 00                     	CMP	DWORD [16+ECX],0
    31 00000039 75 0A                           	JNE	L3
    32 0000003B 83 49 14 01                     	OR	DWORD [20+ECX],1
    33 0000003F 83 C8 FF                        	OR	EAX,-1
    34 00000042                                 L2:
    35 00000042 5B                              	POP	EBX
    36 00000043 5D                              	POP	EBP
    37 00000044 C3                              	RET
    38 00000045                                 L3:
    39 00000045 8B 01                           	MOV	EAX,DWORD [ECX]
    40 00000047 8B 51 04                        	MOV	EDX,DWORD [4+ECX]
    41 0000004A 88 1C 02                        	MOV	BYTE [EDX+EAX*1],BL
    42 0000004D 8B 41 04                        	MOV	EAX,DWORD [4+ECX]
    43 00000050 40                              	INC	EAX
    44 00000051 89 41 04                        	MOV	DWORD [4+ECX],EAX
    45 00000054 3B 41 0C                        	CMP	EAX,DWORD [12+ECX]
    46 00000057 74 07                           	JE	L5
    47 00000059                                 L4:
    48 00000059 FF 49 10                        	DEC	DWORD [16+ECX]
    49 0000005C 31 C0                           	XOR	EAX,EAX
    50 0000005E EB E2                           	JMP	L2
    51 00000060                                 L5:
    52 00000060 C7 41 04 00000000               	MOV	DWORD [4+ECX],0
    53 00000067 EB F0                           	JMP	L4
    54 00000069                                 	GLOBAL	_fifo8_get
    55 00000069                                 _fifo8_get:
    56 00000069 55                              	PUSH	EBP
    57 0000006A 83 C8 FF                        	OR	EAX,-1
    58 0000006D 89 E5                           	MOV	EBP,ESP
    59 0000006F 53                              	PUSH	EBX
    60 00000070 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
    61 00000073 8B 59 10                        	MOV	EBX,DWORD [16+ECX]
    62 00000076 85 DB                           	TEST	EBX,EBX
    63 00000078 74 1A                           	JE	L6
    64 0000007A 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
    65 0000007D 8B 11                           	MOV	EDX,DWORD [ECX]
    66 0000007F 0F B6 14 10                     	MOVZX	EDX,BYTE [EAX+EDX*1]
    67 00000083 40                              	INC	EAX
    68 00000084 89 41 08                        	MOV	DWORD [8+ECX],EAX
    69 00000087 3B 41 0C                        	CMP	EAX,DWORD [12+ECX]
    70 0000008A 74 0B                           	JE	L9
    71 0000008C                                 L8:
    72 0000008C 8D 43 01                        	LEA	EAX,DWORD [1+EBX]
    73 0000008F 89 41 10                        	MOV	DWORD [16+ECX],EAX
    74 00000092 89 D0                           	MOV	EAX,EDX
    75 00000094                                 L6:
    76 00000094 5B                              	POP	EBX
    77 00000095 5D                              	POP	EBP
    78 00000096 C3                              	RET
    79 00000097                                 L9:
    80 00000097 C7 41 08 00000000               	MOV	DWORD [8+ECX],0
    81 0000009E EB EC                           	JMP	L8
    82 000000A0                                 	GLOBAL	_fifo8_status
    83 000000A0                                 _fifo8_status:
    84 000000A0 55                              	PUSH	EBP
    85 000000A1 89 E5                           	MOV	EBP,ESP
    86 000000A3 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
    87 000000A6 5D                              	POP	EBP
    88 000000A7 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
    89 000000AA 2B 42 10                        	SUB	EAX,DWORD [16+EDX]
    90 000000AD C3                              	RET
    91 000000AE                                 	GLOBAL	_fifo32_init
    92 000000AE                                 _fifo32_init:
    93 000000AE 55                              	PUSH	EBP
    94 000000AF 89 E5                           	MOV	EBP,ESP
    95 000000B1 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
    96 000000B4 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
    97 000000B7 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
    98 000000BA 89 48 0C                        	MOV	DWORD [12+EAX],ECX
    99 000000BD 89 10                           	MOV	DWORD [EAX],EDX
   100 000000BF 89 48 10                        	MOV	DWORD [16+EAX],ECX
   101 000000C2 C7 40 14 00000000               	MOV	DWORD [20+EAX],0
   102 000000C9 C7 40 04 00000000               	MOV	DWORD [4+EAX],0
   103 000000D0 C7 40 08 00000000               	MOV	DWORD [8+EAX],0
   104 000000D7 5D                              	POP	EBP
   105 000000D8 C3                              	RET
   106 000000D9                                 	GLOBAL	_fifo32_put
   107 000000D9                                 _fifo32_put:
   108 000000D9 55                              	PUSH	EBP
   109 000000DA 89 E5                           	MOV	EBP,ESP
   110 000000DC 53                              	PUSH	EBX
   111 000000DD 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   112 000000E0 83 7B 10 00                     	CMP	DWORD [16+EBX],0
   113 000000E4 75 0A                           	JNE	L13
   114 000000E6 83 4B 14 01                     	OR	DWORD [20+EBX],1
   115 000000EA 83 C8 FF                        	OR	EAX,-1
   116 000000ED                                 L12:
   117 000000ED 5B                              	POP	EBX
   118 000000EE 5D                              	POP	EBP
   119 000000EF C3                              	RET
   120 000000F0                                 L13:
   121 000000F0 8B 4B 04                        	MOV	ECX,DWORD [4+EBX]
   122 000000F3 8B 13                           	MOV	EDX,DWORD [EBX]
   123 000000F5 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   124 000000F8 89 04 8A                        	MOV	DWORD [EDX+ECX*4],EAX
   125 000000FB 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   126 000000FE 40                              	INC	EAX
   127 000000FF 89 43 04                        	MOV	DWORD [4+EBX],EAX
   128 00000102 3B 43 0C                        	CMP	EAX,DWORD [12+EBX]
   129 00000105 74 07                           	JE	L15
   130 00000107                                 L14:
   131 00000107 FF 4B 10                        	DEC	DWORD [16+EBX]
   132 0000010A 31 C0                           	XOR	EAX,EAX
   133 0000010C EB DF                           	JMP	L12
   134 0000010E                                 L15:
   135 0000010E C7 43 04 00000000               	MOV	DWORD [4+EBX],0
   136 00000115 EB F0                           	JMP	L14
   137 00000117                                 	GLOBAL	_fifo32_get
   138 00000117                                 _fifo32_get:
   139 00000117 55                              	PUSH	EBP
   140 00000118 83 C8 FF                        	OR	EAX,-1
   141 0000011B 89 E5                           	MOV	EBP,ESP
   142 0000011D 56                              	PUSH	ESI
   143 0000011E 53                              	PUSH	EBX
   144 0000011F 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   145 00000122 8B 71 10                        	MOV	ESI,DWORD [16+ECX]
   146 00000125 8B 59 0C                        	MOV	EBX,DWORD [12+ECX]
   147 00000128 39 DE                           	CMP	ESI,EBX
   148 0000012A 74 18                           	JE	L16
   149 0000012C 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
   150 0000012F 8B 11                           	MOV	EDX,DWORD [ECX]
   151 00000131 8B 14 82                        	MOV	EDX,DWORD [EDX+EAX*4]
   152 00000134 40                              	INC	EAX
   153 00000135 89 41 08                        	MOV	DWORD [8+ECX],EAX
   154 00000138 39 D8                           	CMP	EAX,EBX
   155 0000013A 74 0C                           	JE	L19
   156 0000013C                                 L18:
   157 0000013C 8D 46 01                        	LEA	EAX,DWORD [1+ESI]
   158 0000013F 89 41 10                        	MOV	DWORD [16+ECX],EAX
   159 00000142 89 D0                           	MOV	EAX,EDX
   160 00000144                                 L16:
   161 00000144 5B                              	POP	EBX
   162 00000145 5E                              	POP	ESI
   163 00000146 5D                              	POP	EBP
   164 00000147 C3                              	RET
   165 00000148                                 L19:
   166 00000148 C7 41 08 00000000               	MOV	DWORD [8+ECX],0
   167 0000014F EB EB                           	JMP	L18
   168 00000151                                 	GLOBAL	_fifo32_status
   169 00000151                                 _fifo32_status:
   170 00000151 55                              	PUSH	EBP
   171 00000152 89 E5                           	MOV	EBP,ESP
   172 00000154 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   173 00000157 5D                              	POP	EBP
   174 00000158 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
   175 0000015B 2B 42 10                        	SUB	EAX,DWORD [16+EDX]
   176 0000015E C3                              	RET
